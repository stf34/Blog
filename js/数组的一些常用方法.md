# js数组的方法及使用

**注意：括号里面写内容  ("字符串要加引号")**

### join()

**join，就是把数组转换成字符串，然后给他规定个连接字符，默认的是逗号(  ，)**

　　**可以自己改变书写格式：例如：join(" ")，括号里面写以什么连接的，比如，("-"), 注意：要加引号**

```js
var arr = [1,2,3,4];
console.log(arr.join()); 　　　　// 1,2,3,4
console.log(arr.join("-")); 　　// 会返回一个字符串 1-2-3-4
console.log(arr); 　　　　　　　　// [1, 2, 3]（原数组是不会变化得）
```

### push()

**push():  把里面的内容添加到数组末尾，并返回修改后的长度。**

```js
var arr = [1,2,3];
 arr.push("hello"); // 在数组的最后一位增加元素
 console.log(arr);              //[1,2,3,"hello"]---原数组改变
```

### pop()

**pop()：移除数组最后一项，返回移除的那个值，减少数组的length。**

```js
var arr = [1,2,3,4]
  arr.pop(5)      //删除数组的最后一位元素
  console.log(arr);              //[1,2,3,4,5]---原数组改变
```

### shift() 

**shift()：删除原数组第一项，并返回删除元素的值；如果数组为空则返回undefined** 

```js
var arr = [1,2,3,4]
var num = arr.shift();
console.log(num)  // 1 返回了一个删除值，并且改变了原来的数组
console.log(arr) // arr = [2,3,4]  删除了1.并改变了原数组
```



### unshift()

**unshift:将参数添加到原数组开头, 改变原数组并返回数组的长度**

```js
var arr = [1,2,3,4]
var num = arr.unshift(‘a’)
console.log(num);  //5 返回的是数组的长度
console.log(arr);    //   [a,1,2,3,4]

```

### **slice()**

**slice()：截取数组元素并返回删除的片段**

**返回从原数组中指定开始下标到结束下标之间的项组成的新数组。slice()方法可以接受一或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下， slice()方法返回从该参数指定位置开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束位置之间的项——但不包括结束位置的项**

```js
//slice(start,end)
//start为截取数组的开始下标，end为截取数组的结束下标
var arr = [1,2,3,4,5,6]
var arrNew = arr.slice(1,2) 
console.log(arrNew)  //   截取结果--[2]
```

### **splice()**

**splice()在任意位置添加，删除元素**

**可以指定多个参数：**

**第一个参数：要删除的第一项的位置**

**第二个参数：要删除的项数**

**第二个参数以后都是是新增项目选填。**

**返回值: 如果有元素被删除,返回包含被删除项目的新数组。**

**删除**

```js
let arr = [1, 2, 3, 4, 5, 6, 7];

// 从数组下标0开始，删除3个元素
let item = arr.splice(0, 3); // [1,2,3] -- 返回一个新数组
console.log(item); // [1,2,3] 删除的数据

// 从最后一个元素开始删除3个元素，因为最后一个元素，所以只删除了7
let item = a.splice(-1, 3); // [7]
console.log(item); // [7] 删除的数据
```

**添加**

```js
var arr = [1,2,3,4,5,6]
arr.splice(3,0,a,b,c) //我们在3和4之间添加a,b,c
console.log(arr)  //  [1, 2, 3, 100, 101, 102, 4, 5, 6]

//splice()用法
//splice()内最少有两个参数，第一个表示从数组的哪个下标的前面开始操作，第二个是删除从下标开始的长度，第三个至最后一个是替换成元素，上面就是删除了数组下标为3前面的元素开始，0个长度的元素，使用100，101，102替换
```

### sort()

**sort()默认情况下是改变数组为升序排序，sort会默认的调用每个数组项toString()**

**如果数组中含有undefined，则undefined会排到尾部**

```js

var arr = [1,2,3,4,5]
arr.sort() //[1,2,3,4,5]

var arr = [1,3,undefined,2] 
arr.sort() //[1,2,3,undefined]
```

**如果sort有参数的时候(参数必须是一个函数);如果函数return的值是正数或者第一个参数减去第二个参数，则为正序，否则为反序。如果存在字符串，则会为最小。按照顺序放到起始位置**

```js
function sortNumber(a,b){

　　return b-a

}

var arr = [1,2,3]
arr.sort(sortNumber)//[3,2,1]; 

var art = ['1a',1,'2b',2,3]
art.sort()//['1a','2b',3,2,1];
```

**如果sort参数是函数返回的是一个随机正负数，则会随机数组书序**

```js
function sortRandom(a,b){

　　return Math.random()-0.5

}

var arr = [1,2,3,4,5]
arr.sort(sortRandom)//[2,1,5,4,3]（此为随机顺序）
```

### reverse()

**reverse()用于反转数组的顺序，修改原数组，并返回当前数组**

```js
var arr = [13, 24, 51, 3];
console.log(arr.reverse()); 　　　　　　　　//[3, 51, 24, 13]
console.log(arr); 　　　　　　　　　　　　　　//[3, 51, 24, 13](原数组改变)
```

### concat()

**concat() ：将参数添加到原数组中。这个方法会先创建当前数组一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组。在没有给 concat()方法传递参数的情况下，它只是复制当前数组并返回副本**

```js
var arr = [1,3,5,7];
var arrCopy = arr.concat(9,[11,13]);
console.log(arrCopy); 　　　　　　　　　　　　//[1, 3, 5, 7, 9, 11, 13]
console.log(arr); 　　　　　　　　　　　　　　// [1, 3, 5, 7](原数组未被修改)
```

### indexOf()

**indexOf()：接收两个参数：要查找的项和（可选的）表示查找起点位置的索引。其中， 从数组的开头（位置 0）开始向后查找**

**indexOf() 查找数组是否存在某个元素，返回下标**

定义: 返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。

语法:

```js
array.indexOf(searchElement,fromIndex)
```

参数:

searchElement(必须):被查找的元素

fromIndex(可选):开始查找的位置(不能大于等于数组的长度，返回-1)，接受负值，默认值为0。

严格相等的搜索:

数组的indexOf搜索跟字符串的indexOf不一样,数组的indexOf使用严格相等===搜索元素，即数组元素要完全匹配才能搜索成功。

注意：indexOf()不能识别NaN

```js
let arr=['你好',2,4,24,NaN]
console.log(arr.indexOf('好')); // -1 
console.log(arr.indexOf('NaN')); // -1 
console.log(arr.indexOf('你好')); // 0
```



### lastIndexOf()

**lastIndexOf() 查找指定元素在数组中的最后一个位置**

定义: 方法返回指定元素,在数组中的最后一个的索引，如果不存在则返回 -1。（从数组后面往前查找）

语法:

arr.lastIndexOf(searchElement,fromIndex)
参数:

searchElement(必须): 被查找的元素

fromIndex(可选): 逆向查找开始位置，默认值数组的长度-1，即查找整个数组。

关于fromIndex有三个规则:

1. 正值。如果该值大于或等于数组的长度，则整个数组会被查找。

2. 负值。将其视为从数组末尾向前的偏移。(比如-2，从数组最后第二个元素开始往前查找)

3. 负值。其绝对值大于数组长度，则方法返回 -1，即数组不会被查找。

   ```js
   let arr=['OB',4,'Koro1',1,2,'Koro1',3,4,5,'Koro1']; // 数组长度为10
   // let b=arr.lastIndexOf('Koro1',4); // 从下标4开始往前找 返回下标2
   // let b=arr.lastIndexOf('Koro1',100); // 大于或数组的长度 查找整个数组 返回9
   // let b=arr.lastIndexOf('Koro1',-11); // -1 数组不会被查找
   let b=arr.lastIndexOf('Koro1',-9); // 从第二个元素4往前查找，没有找到 返回-1
   ```

   # js在数组中查找是否存在某一个数值

   ```js
     const userInfo = [
   　　{userName: '张三'}， {userName: '李四'}
   ]
   /* 查找元素是否存在，如果存在返回元素本身，如果不存在返回undefined，即为false */
     const ddd = userInfo.find((item) => {
       return item.userName == userName;
     });
   console.log(ddd)        //{userName: '李四'} 存在
   console.log(ddd)        //undefined 不存在
   ```

   

# 根据一个数组去除另一个数组的相同值

```js
/* 根据一个数组去除另一个数组的相同值 */
	var tableData = [1,2,3]
    var multipleSelection = [2,3]
      tableData = this.tableData.filter(v => !multipleSelection.includes(v))
console.log(tableData) // 1
```

**ES7 includes() 查找数组是否包含某个元素 返回布尔**

定义： 返回一个布尔值，表示某个数组是否包含给定的值

语法：

array.includes(searchElement,fromIndex=0)
参数：

searchElement(必须):被查找的元素

fromIndex(可选):默认值为0，参数表示搜索的起始位置，接受负值。正值超过数组长度，数组不会被搜索，返回false。负值绝对值超过长数组度，重置从0开始搜索。

includes方法是为了弥补indexOf方法的缺陷而出现的:

1. indexOf方法不能识别NaN
2. indexOf方法检查是否包含某个值不够语义化，需要判断是否不等于-1，表达不够直观

eg:

```
`let a=[``'OB'``,``'Koro1'``,1,NaN];``// let b=a.includes(NaN); // true 识别NaN``// let b=a.includes('Koro1',100); // false 超过数组长度 不搜索``// let b=a.includes('Koro1',-3); // true 从倒数第三个元素开始搜索 ``// let b=a.includes('Koro1',-100); // true 负值绝对值超过数组长度，搜索整个数组`
```

兼容性(MDN): chrome47, Firefox 43,Edge 14,Opera 34, Safari 9,IE 未实现。


## 上面一些方法的具体应用

### 根据条件查找数组内的某个值
1. 方法1
 > 根据find查找
    ``` js
        //Arry要查找的数组，x,要查的值
        var Item = Array.find(Item => return Item.id == x;});/* 根据选择判断 */
        //   含有返回当前元素
        // 不含有返回undfind
    ```
2. 方法2
 > 根据filter查找
    ``` js
        //Arry要查找的数组，x,要查的值
        var Item = Array.filter(Item => Item.id == x;});/* 根据选择判断 */
        //   含有返回当前元素
        // 不含有返回undfind
    ```

### 数组取值：最大最小
    ```js
        /* 取最大值： */ Math.max.apply(Math, array.map(function(o) {return o.value}))
        /* 取最小值： */ Math.min.apply(Math, array.map(function(o) {return o.value}))
        //说明：array是我们上面定义的数组，o.value就是要比较的字段。
    ```

### 数组的数字相加
> 使用reduce来使用

    ```js
        let arr = [1,2,3]
        arr.reduce((a,b)=>a+b)//6
    ```
    
### 数组的数字成倍扩大或缩小
> 使用map来使用

    ```js
        let arr = [1,2,3]
        arr.map(item => item*2)//arr = [2,4,6]
        arr.map(item => item/2)//arr = [0.5,1,1.5]
    ```

### 数组的去重
1. 方法1


```js
    /* 通过循环去重，arr是要传入的值，val是要判断的值 */
    function ArrySet(arr,val) {
        var result = [],
            i,
            j,
            len = arr.length;
        /* 循环数组去重相同的元素 */
        for (i = 0; i < len; i++) {
            for (j = i + 1; j < len; j++) {
            if (arr[i].val === arr[j].val) {
                j = ++i;
            }
            }
            result.push(arr[i]);
        }
        return result;
    }
```
2. 方法2
> 结合数组得我filter和includes来去重
```js
    function duplicate(arr) {
        var newArr = []
        newArr = arr.filter(function (item) {
            /* 
                includes() 方法用于判断字符串是否包含指定的子字符串。

                如果找到匹配的字符串则返回 true，否则返回 false。
            */
            return newArr.includes(item) ? '' : newArr.push(item)
        })
        return newArr
    }
    console.log(duplicate([1, 1, 2, 3, 5, 3, 1, 5, 6, 7, 4]));
    // 结果是[1, 2, 3, 5, 6, 7, 4]
```
### 数组剩余/扩展运算符（对象也可以使用）
> `...` 可以扩展一个数组也可以扩展两个数组

```js
    var arr1 = [1,2,3]
    var arr2 = [4,5,6]
    arr2.push(...arr1)//扩展一个数组

    var arr3 = [1,2,3]
    arr3.push(...arr1,...arr2)//扩展两个数组
```